(()=>{"use strict";var t={477:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,"@keyframes placeword {\n  0% {\n    transform: scale(1.05) translateY(5%);\n  }\n  100% {\n    transform: scale(1) translateY(0%);\n  }\n}\n\n.card {\n  position: relative;\n  flex-grow: 1;\n  cursor: pointer;\n  height: 100%;\n  animation: placeword 0.15s ease-in;\n  transition: 0.5s;\n  border-radius: 3px;\n  user-select: none;\n}\n\n.card__base,\n.card__image,\n.card__text {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.card__image {\n  opacity: 0;\n  transition: 1s;\n}\n\n.card__text {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-shadow: 1px 1px 10px #000;\n  left: 0.15em;\n  text-shadow:\n    1px 1px 2px black,\n    0 0 1em black,\n    0 0 0.2em black;\n}\n\n.card__base-rect {\n  height: 100%;\n  position: relative;\n  background-color: var(--color-container);\n  border-radius: 1px;\n  border: 0.1px solid var(--color-body-dark);\n  mask: radial-gradient(0.55em at 0.15em 50%, #0000 90%, #000);\n  box-shadow: inset 0 0 4px rgba(255, 255, 255, 0.2);\n}\n\n.card__image-rect {\n  height: 100%;\n  position: relative;\n  border-radius: 1px;\n  border: 0.1px solid var(--color-body-dark);\n  mask: radial-gradient(0.55em at 0.15em 50%, #0000 90%, #000);\n  box-shadow: inset 0 0 4px rgba(29, 23, 23, 0.2);\n}\n\n.card__border-circle {\n  position: absolute;\n  width: 1em;\n  height: 100%;\n  border-radius: 50%;\n  right: -1em;\n  background: radial-gradient(\n    0.7em at 0.15em 50%,\n    transparent 70%,\n    rgba(255, 255, 255, 0.1) 20%,\n    rgba(0, 0, 0, 0.5) 30%,\n    rgba(0, 0, 0, 0.3) 20%\n  );\n  top: 0;\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.1);\n  mask: radial-gradient(0.6em at 0.15em 50%, #000 90%, transparent 100%);\n}\n\n.card:hover {\n  transform: scale(1.02);\n  z-index: 3;\n}\n\n.card__base-circle {\n  width: calc(100%);\n  margin-right: -0.7em;\n  height: 100%;\n  background-color: var(--color-container);\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  transform: translate(0.75em);\n}\n\n.card__image-circle {\n  width: calc(100%);\n  margin-right: -0.7em;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  transform: translate(0.75em);\n}\n\n.card_start .card__base-rect,\n.card_start .card__image-rect {\n  height: 100%;\n  mask: none;\n}\n\n.card_end .card__base-circle,\n.card_end .card__image-circle {\n  display: none;\n}\n\n.card_end .card__border-circle {\n  opacity: 0;\n}\n\n.playboard__field .puzzle__sentence_correct .card__image {\n  opacity: 1;\n}\n\n.playboard__field .puzzle__sentence_arranged .card__image {\n  animation: fadein 0.3s ease-in forwards;\n}\n\n.playboard__field-show-image .puzzle__sentence_arranged .card__image {\n  animation: none;\n}\n\n.playboard__field-show-image .card__image {\n  opacity: 1;\n}\n",""]);const r=a},505:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".blob-left {\n  position: fixed;\n  display: block;\n  top: -40%;\n  left: -50%;\n  z-index: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  transform: rotate(30deg);\n  transition: 1s;\n}\n\n.blob-right {\n  position: fixed;\n  display: block;\n  bottom: -40%;\n  right: -50%;\n  z-index: 0;\n  width: 100%;\n  height: 100%;\n  transform: rotate(-30deg);\n  opacity: 0.5;\n  transition: 1s;\n}\n\n.blob-log-in {\n  transform: rotate(0deg) scale(1.3);\n}\n",""]);const r=a},895:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,"@keyframes showleft {\n  0% {\n    transform: translateX(-100%) rotate(20deg);\n  }\n  100% {\n    transform: translateX(10%) rotate(-50deg);\n  }\n}\n\n@keyframes showright {\n  0% {\n    transform: translateX(100%) rotate(20deg);\n  }\n  100% {\n    transform: translateX(-10%) rotate(-50deg);\n  }\n}\n.puzzle-left {\n  position: fixed;\n  left: 0%;\n  top: 63%;\n  opacity: 0.7;\n  width: 200px;\n  transform: translateX(0%) rotate(20deg);\n  animation: showleft 1s ease-in-out forwards;\n}\n\n.puzzle-right {\n  position: fixed;\n  right: 0%;\n  top: 70%;\n  width: 200px;\n  transform: translateX(0%) rotate(20deg);\n  animation: showright 1s ease-in-out forwards;\n}\n",""]);const r=a},687:(t,n,e)=>{e.d(n,{A:()=>g});var o=e(601),i=e.n(o),s=e(314),a=e.n(s),r=e(417),l=e.n(r),d=new URL(e(501),e.b),c=new URL(e(394),e.b),h=a()(i()),u=l()(d),p=l()(c);h.push([t.id,`.footer {\n  margin-top: auto;\n  padding: 10px;\n  z-index: 2;\n}\n.footer__container {\n  margin: 0 auto;\n  width: 100%;\n  max-width: 1024px;\n  display: flex;\n  gap: 20px;\n}\n\n.footer__rss {\n  display: block;\n  width: 120px;\n  height: 47px;\n  margin: auto 0px;\n  background-image: url(${u});\n  background-repeat: no-repeat;\n  background-size: contain;\n  opacity: 0.5;\n  transition: 1s;\n}\n\n.footer__github {\n  position: relative;\n  grid-area: 1 / 3 / 2 / 4;\n  margin: auto 40px;\n  margin-left: auto;\n  color: #fff;\n  text-decoration: none;\n  opacity: 0.5;\n  transition: 1s;\n}\n\n.footer__github::after {\n  position: absolute;\n  content: "";\n  top: -5px;\n  left: calc(100% + 10px);\n  width: 26px;\n  height: 26px;\n  background-image: url(${p});\n  filter: grayscale(100) brightness(3);\n  transition: 1s;\n}\n\n.footer__year {\n  opacity: 0.5;\n}\n\n.footer__github:hover,\n.footer__rss:hover {\n  opacity: 1;\n}\n`,""]);const g=h},315:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".header {\n  width: 100%;\n  display: flex;\n  z-index: 2;\n  transition: 1s;\n}\n\n.header__logo {\n  font-weight: 900;\n  font-size: 45px;\n  flex-grow: 1;\n  text-align: center;\n  margin: 0;\n  opacity: 0;\n  padding-left: 94px;\n  transition: opacity 1s;\n  animation: fadein 1s ease-in forwards;\n}\n\n.header__container {\n  max-width: 1024px;\n  padding: 10px 10px 0px 10px;\n  width: 100%;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n}\n\n.header__button {\n  flex-grow: 0;\n  margin-left: auto;\n  cursor: pointer;\n  transition: 0.5s;\n}\n\n.header__button:hover {\n  color: var(--color-body-dark);\n  background-color: var(--color-highlight);\n}\n\n.login-screen .header__button {\n  display: none;\n}\n\n.login-screen .header__logo {\n  visibility: hidden;\n}\n",""]);const r=a},107:(t,n,e)=>{e.d(n,{A:()=>u});var o=e(601),i=e.n(o),s=e(314),a=e.n(s),r=e(417),l=e.n(r),d=new URL(e(138),e.b),c=a()(i()),h=l()(d);c.push([t.id,`@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.loader {\n  background-image: url(${h});\n  background-repeat: no-repeat;\n  width: 40px;\n  height: 40px;\n  background-size: contain;\n  animation: spin 3s linear infinite;\n}\n\n.overlay_loader {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n`,""]);const u=c},775:(t,n,e)=>{e.d(n,{A:()=>u});var o=e(601),i=e.n(o),s=e(314),a=e.n(s),r=e(417),l=e.n(r),d=new URL(e(110),e.b),c=a()(i()),h=l()(d);c.push([t.id,`.login-form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  max-width: 400px;\n  gap: 20px;\n  padding: 20px 40px 40px 40px;\n  border-radius: 30px;\n  background-color: var(--color-container);\n  animation: fadein 0.5s ease-in;\n}\n\n.login-form__title {\n  margin: 0;\n  font-weight: 900;\n}\n\n.login-form__first-name,\n.login-form__last-name {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  gap: 10px;\n}\n\n.login-form__input {\n  position: relative;\n  outline: none;\n  border: var(--color-label-dark) 1px solid;\n  padding: 10px;\n  width: 100%;\n  max-width: 100%;\n  display: block;\n  border-radius: 10px;\n}\n\n.login-form__input:valid {\n  background-image: url(${h});\n  background-size: 20px 20px;\n  background-repeat: no-repeat;\n  background-position: right 10px center;\n}\n\n.login-form__button {\n  font-size: 16px;\n  width: 100%;\n  margin-top: 10px;\n  transition: 0.3s;\n}\n\n.login-form__button:hover {\n  background-color: var(--color-highlight);\n  color: var(--color-body-dark);\n}\n\n.login-form__button:disabled {\n  pointer-events: none;\n}\n\n.login-form__hint {\n  color: var(--color-text-red);\n  font-size: 12px;\n  display: flex;\n  gap: 5px;\n}\n\n.login-form__hint::before {\n  content: "!";\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  border: 1px var(--color-text-red) solid;\n}\n`,""]);const u=c},691:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".main {\n  display: flex;\n  z-index: 2;\n  flex-grow: 1;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  max-width: 1024px;\n  align-items: center;\n  padding: 10px;\n}\n",""]);const r=a},31:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".overlay {\n  position: fixed;\n  z-index: 10;\n  padding: 10px;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: fadein 0.3s ease-in;\n}\n\n.modal {\n  background-color: var(--color-container);\n  border-radius: 30px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  height: 100%;\n  max-height: 600px;\n}\n\n.modal_logout {\n  max-width: 290px;\n  height: auto;\n}\n\n.modal__title {\n  margin: 0;\n  text-align: center;\n}\n\n.modal__text {\n  margin: 0;\n  text-align: center;\n}\n\n.modal__buttons-container {\n  display: flex;\n  gap: 10px;\n}\n\n.modal__button {\n  min-width: 100px;\n}\n",""]);const r=a},312:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".playboard__hint-audio-toggler,\n.playboard__hint-audio-button {\n  width: 30px;\n  height: 30px;\n}\n\n.playboard__hint-audio-button {\n  position: relative;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n  grid-column-gap: 0px;\n  grid-row-gap: 0px;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  padding-left: 6px;\n}\n\n.playboard__audio-hint-icon-1,\n.playboard__audio-hint-icon-2 {\n  grid-area: 1 / 1 / 2 / 2;\n  width: 100%;\n  height: 100%;\n  fill: var(--color-text-light);\n  transition: 0.5s;\n}\n\n.playboard__hint-audio-toggler {\n  padding: 5px;\n}\n\n.playboard__hint-toggler-icon {\n  transition: 0.5s;\n  width: 100%;\n}\n\n.playboard__hint-audio-button:hover .playboard__audio-hint-icon-1,\n.playboard__hint-audio-button:hover .playboard__audio-hint-icon-2,\n.playboard__hint-audio-toggler:hover .playboard__hint-toggler-icon {\n  fill: var(--color-label-dark);\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n  20% {\n    opacity: 0.5;\n    transform: scaleY(0.7);\n  }\n  40% {\n    opacity: 0.3;\n    transform: scaleY(0.5);\n  }\n  60% {\n    opacity: 0.5;\n    transform: scaleY(0.9);\n  }\n  80% {\n    opacity: 1;\n    transform: scaleY(1.1);\n  }\n  100% {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n}\n.playboard__hint-audio-button_active {\n  pointer-events: none;\n  background-color: var(--color-highlight);\n}\n\n.playboard__hint-audio-button_hide {\n  pointer-events: none;\n  opacity: 0;\n}\n\n.playboard__hint-audio-button_active .playboard__audio-hint-icon-1 {\n  animation: pulse 1.5s linear 1s alternate infinite;\n  fill: var(--color-label-dark);\n}\n\n.playboard__hint-audio-button_active .playboard__audio-hint-icon-2 {\n  animation: pulse 1.5s linear alternate infinite;\n  fill: var(--color-label-dark);\n}\n\n.playboard__hint-audio-toggler_active {\n  background-color: var(--color-highlight);\n}\n\n.playboard__hint-audio-toggler_active .playboard__hint-toggler-icon {\n  fill: var(--color-label-dark);\n}\n",""]);const r=a},902:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".playboard__autocomplete-button_hide {\n  display: none;\n}\n",""]);const r=a},832:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".playboard__hint-image-toggler {\n  width: 30px;\n  height: 30px;\n}\n\n.playboard__hint-image-toggler_active {\n  background-color: var(--color-highlight);\n  .playboard__hint-toggler-icon {\n    fill: var(--color-label-dark);\n  }\n}\n\n.playboard__hint-image-toggler:hover {\n  background-color: var(--color-highlight);\n  .playboard__hint-toggler-icon {\n    fill: var(--color-label-dark);\n  }\n}\n",""]);const r=a},40:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".image-info {\n  display: none;\n  transition: 1s;\n}\n\n.image-info_hide {\n  display: flex;\n  opacity: 0;\n}\n\n.image-info_show {\n  display: flex;\n  position: absolute;\n  z-index: 10;\n  gap: 10px;\n  padding: 13px;\n  bottom: 5px;\n  width: calc(100% - 20px);\n  background-color: rgba(31, 32, 65, 0.9);\n  animation: fadein 1s ease-in;\n  right: 10px;\n  border-radius: 15px;\n  flex-direction: column;\n  align-items: center;\n  backdrop-filter: blur(3px);\n  min-height: 50px;\n  justify-content: center;\n}\n\n.image-info__title,\n.image-info__meta {\n  margin: 0;\n  padding: 0;\n  font-size: 0.8rem;\n}\n\n.image-info__title {\n  max-width: 700px;\n  text-align: center;\n  font-size: 0.9rem;\n}\n",""]);const r=a},631:(t,n,e)=>{e.d(n,{A:()=>g});var o=e(601),i=e.n(o),s=e(314),a=e.n(s),r=e(417),l=e.n(r),d=new URL(e(110),e.b),c=new URL(e(481),e.b),h=a()(i()),u=l()(d),p=l()(c);h.push([t.id,`.playboard {\n  position: relative;\n  padding: 10px 50px;\n  border-radius: 30px;\n  background-color: var(--color-container);\n  max-width: 700px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  animation: fadein 0.5s ease-in;\n}\n\n.playboard__header {\n  padding: 5px 10px;\n  display: flex;\n  min-height: 40px;\n  animation: fadein 0.3s ease-in;\n  transition: 0.5s;\n}\n\n.playboard__hints {\n  padding: 5px 10px;\n  display: flex;\n  min-height: 40px;\n  justify-content: space-between;\n  align-items: center;\n  gap: 20px;\n  background-color: rgba(31, 32, 65, 0.5);\n  border-radius: 10px;\n  animation: fadein 0.3s ease-in;\n  transition: 0.5s;\n}\n\n.playboard__field {\n  position: relative;\n  background-color: var(--color-text-light);\n  width: 100%;\n  padding: 10px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  animation: fadein 0.3s ease-in;\n  transition: 0.5s;\n}\n\n.playboard__source-container {\n  width: 100%;\n  min-height: 40px;\n  display: flex;\n  animation: fadein 0.3s ease-in;\n  transition: 0.5s;\n}\n\n.playboard__source-container .card {\n  transform: scale(0.97);\n}\n\n.playboard__puzzle-container {\n  width: 100%;\n  background-size: 100% auto;\n  border: 1px solid gray;\n  aspect-ratio: 9 / 5.5;\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  animation: fadein 0.3s ease-in;\n  transition: 0.5s;\n}\n\n.playboard__hints-torrlers {\n  margin-left: auto;\n  display: flex;\n  gap: 10px;\n}\n\n.playboard__buttons {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  animation: fadein 0.3s ease-in;\n}\n\n.playboard__button {\n  min-width: 140px;\n  transition: 0.5s;\n}\n\n.puzzle__sentence {\n  width: 100%;\n  flex-grow: 1;\n  display: flex;\n  transition: 0.5s;\n  animation: fadein 0.3s ease-in;\n}\n.puzzle__sentence_arranged,\n.puzzle__sentence_correct {\n  position: relative;\n  pointer-events: none;\n  filter: brightness(1.2);\n}\n.puzzle__sentence_arranged::before,\n.puzzle__sentence_correct::before {\n  position: absolute;\n  content: "";\n  top: 0;\n  left: -45px;\n  width: 1.2rem;\n  height: 100%;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.puzzle__sentence_correct::before {\n  background-image: url(${u});\n}\n.puzzle__sentence_arranged::before {\n  background-image: url(${p});\n}\n\n.playboard__round-label {\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  gap: 20px;\n  padding: 7px;\n  background-color: rgba(31, 32, 65, 0.5);\n  border-radius: 10px;\n}\n\n/* .word {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0.5px gray solid;\n  height: 100%;\n  color: var(--color-text-light);\n  opacity: 0.5;\n  text-shadow: 0px 0px 4px rgb(0, 0, 0);\n} */\n\n.wordplace {\n  transition: 0.5s;\n}\n\n.wordplace.highlight {\n  background-color: rgba(255, 200, 87, 0.3);\n  transition: 1s;\n}\n\n.placed {\n  flex-grow: 0;\n  transition: 0.5s;\n}\n\n.check-mode .placed.correct {\n  box-shadow: 0 3px 5px var(--color-label-light);\n}\n\n.check-mode .placed.error {\n  box-shadow: 0 3px 5px var(--color-text-red);\n}\n\n.hide {\n  opacity: 0;\n}\n`,""]);const g=h},393:(t,n,e)=>{e.d(n,{A:()=>g});var o=e(601),i=e.n(o),s=e(314),a=e.n(s),r=e(417),l=e.n(r),d=new URL(e(567),e.b),c=new URL(e(110),e.b),h=a()(i()),u=l()(d),p=l()(c);h.push([t.id,`.modal__levels-container {\n  display: flex;\n  gap: 10px;\n}\n\n.modal__levels-close {\n  min-width: 200px;\n}\n\n.modal__level-button {\n  padding: 5px;\n  min-width: 80px;\n}\n\n.modal__level-button_completed {\n  position: relative;\n  padding: 5px 20px 5px 3px;\n  min-width: 80px;\n}\n\n.modal__level-button_completed::after {\n  position: absolute;\n  content: "";\n  top: 0;\n  right: 0.2rem;\n  width: 1.1rem;\n  height: 100%;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.modal__level-button.modal__level-button_completed::after {\n  background-image: url(${u});\n}\n\n.round-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px;\n  gap: 10px;\n  border: 1px solid var(--color-label-light);\n  border-radius: 20px;\n  max-width: 500px;\n  cursor: pointer;\n  transition: 0.5s;\n  animation: fadein 0.5s ease-in;\n}\n\n.round-item_solved {\n  background-color: rgba(31, 32, 65, 0.5);\n  border-color: rgba(31, 32, 65);\n}\n\n.round-item__index {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--color-label-light);\n  border: 1px solid var(--color-label-light);\n  border-radius: 20px;\n  padding: 3px;\n  height: 30px;\n  width: 30px;\n  flex-shrink: 0;\n  transition: 0.5s;\n}\n\n.round-item_solved .round-item__index {\n  color: rgba(31, 32, 65);\n  background-color: var(--color-container);\n  border: 1px solid rgba(31, 32, 65);\n}\n\n.round-item__image {\n  width: 70px;\n  height: 50px;\n  flex-shrink: 0;\n  background-size: cover;\n  filter: blur(2px) grayscale(0.5);\n  border-radius: 10px;\n  background-color: var(--color-label-light);\n}\n\n.round-item_solved .round-item__image {\n  filter: blur(0) grayscale(0);\n}\n\n.modal__level-button_active {\n  background-color: var(--color-highlight);\n  color: var(--color-label-dark);\n}\n\n.modal__level-button_active.modal__level-button_completed::after {\n  background-image: url(${p});\n}\n\n.round-item__words {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 5px;\n  transition: 0.5s;\n}\n\n::-webkit-scrollbar {\n  width: 10px;\n}\n\n::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n::-webkit-scrollbar-thumb {\n  background: var(--color-label-light);\n  border-radius: 20px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: var(--color-text-light);\n}\n\n.modal__rounds-container {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  max-height: 500px;\n  overflow-y: auto;\n  padding: 10px;\n  margin: 0;\n  gap: 10px;\n  transition: 0.5s;\n}\n\n.round-item__word {\n  border: 1px var(--color-label-light) solid;\n  color: var(--color-label-light);\n  padding: 3px 9px;\n  border-radius: 30px;\n  font-size: 0.9rem;\n  height: 25px;\n  transition: 0.5s;\n}\n\n.round-item__word_solved {\n  background-color: var(--color-label-light);\n  color: var(--color-text-light);\n  border: none;\n}\n\n.round-item__word_opened {\n  background-color: var(--color-highlight);\n  color: var(--color-label-dark);\n  border: none;\n}\n\n.round-item_current,\n.round-item:hover {\n  border-color: var(--color-text-light);\n  .round-item__index,\n  .round-item__word {\n    border-color: var(--color-text-light);\n    color: var(--color-text-light);\n  }\n}\n\n.round-item_solved:hover {\n  background-color: rgba(31, 32, 65, 0.3);\n}\n\n.round-item_solved:hover .round-item__word_opened {\n  color: var(--color-label-dark);\n}\n`,""]);const g=h},600:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".playboard__statistics-button {\n  display: none;\n  opacity: 0;\n  transition: 1s;\n  min-width: 140px;\n}\n\n.playboard__statistics-button_show {\n  display: flex;\n  opacity: 1;\n  transition: 1s;\n  /* animation: fadein 1s ease-in-out forwards; */\n}\n\n.playboard__statistics-button_hide {\n  display: flex;\n  opacity: 0;\n  transition: 1s;\n  /* animation: fadeout 1s ease-in-out forwards; */\n}\n",""]);const r=a},502:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,".playboard__translation-hint {\n  display: flex;\n  opacity: 1;\n  transition: 0.5s;\n  user-select: none;\n  font-size: 0.9rem;\n}\n\n.playboard__translation-hint_hide {\n  opacity: 0;\n}\n\n.playboard__hint-label {\n  margin: 0;\n}\n\n.playboard__hint-toggler-icon {\n  height: 25px;\n  fill: #fff;\n}\n\n.playboard__hint-translation-toggler {\n  width: 30px;\n  height: 30px;\n}\n\n.playboard__hint-translation-toggler:hover .playboard__hint-toggler-icon {\n  fill: var(--color-label-dark);\n}\n\n.playboard__hint-translation-toggler_active .playboard__hint-toggler-icon {\n  fill: var(--color-label-dark);\n}\n\n.playboard__hint-translation-toggler_active {\n  background-color: var(--color-highlight);\n}\n",""]);const r=a},943:(t,n,e)=>{e.d(n,{A:()=>u});var o=e(601),i=e.n(o),s=e(314),a=e.n(s),r=e(417),l=e.n(r),d=new URL(e(757),e.b),c=a()(i()),h=l()(d);c.push([t.id,`.start-screen {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 470px;\n  background-color: rgba(31, 32, 65, 0.5);\n  border-radius: 30px;\n  padding: 20px;\n  animation: fadein 0.5s ease-in;\n}\n\n.start-screen__text {\n  text-align: 10px;\n  font-size: 1.2rem;\n  line-height: 2rem;\n  text-align: center;\n}\n\n.start-screen__greeting,\n.start-screen__title {\n  text-align: center;\n}\n\n@keyframes showgreeting {\n  0% {\n    opacity: 0;\n    transform: translateY(-100%);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0%);\n  }\n}\n\n.start-screen__greeting {\n  color: var(--color-highlight);\n  font-size: 2rem;\n  animation: showgreeting 0.9s ease-out;\n}\n\n.start-screen__button {\n  min-width: 150px;\n  display: flex;\n  gap: 5px;\n}\n\n.start-screen__button-label {\n  transform: translateX(12px);\n  transition: 0.5s;\n}\n\n.start-screen__button-icon {\n  position: relative;\n  display: block;\n  background-image: url(${h});\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 16px;\n  height: 16px;\n  opacity: 0;\n  transition: 0.5s;\n}\n\n.start-screen__button-icon::after {\n  content: "";\n  position: absolute;\n  background-image: url(${h});\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 16px;\n  height: 16px;\n  top: 0;\n  left: 0;\n  transition: 0.5s;\n}\n\n.start-screen__button:hover .start-screen__button-label {\n  transform: translateX(0);\n}\n\n.start-screen__button:hover .start-screen__button-icon {\n  opacity: 1;\n}\n\n.start-screen__button:hover .start-screen__button-icon::after {\n  transform: translateX(7px);\n}\n`,""]);const u=c},669:(t,n,e)=>{e.d(n,{A:()=>g});var o=e(601),i=e.n(o),s=e(314),a=e.n(s),r=e(417),l=e.n(r),d=new URL(e(110),e.b),c=new URL(e(481),e.b),h=a()(i()),u=l()(d),p=l()(c);h.push([t.id,`.statistics-page {\n  position: relative;\n  padding: 20px;\n  border-radius: 30px;\n  background-color: var(--color-container);\n  max-width: 550px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 5px;\n  animation: fadein 0.5s ease-in;\n}\n\n.statistics-page__buttons {\n  display: flex;\n  padding: 10px;\n  gap: 10px;\n}\n\n.statistics-page__header-title {\n  margin: 0;\n  padding: 10px;\n}\n\n.statistics-page__subtitle {\n  position: relative;\n  display: flex;\n  width: fit-content;\n  margin: 0 auto;\n}\n\n.statistics-page__results {\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.statistics-page__results-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.statistics-page__subtitle_known::before,\n.statistics-page__subtitle_unknown::before {\n  content: "";\n  position: absolute;\n  content: "";\n  top: 0;\n  left: -20px;\n  width: 1.2rem;\n  height: 100%;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.statistics-page__subtitle_known::before {\n  background-image: url(${u});\n}\n.statistics-page__subtitle_unknown::before {\n  background-image: url(${p});\n}\n\n.statistics-page__button {\n  min-width: 140px;\n}\n\n.statistics-page__subtitle {\n  margin: 0;\n  padding: 10px;\n  text-align: center;\n}\n\n.statistics-page__results-list {\n  display: flex;\n  list-style-type: none;\n  list-style: none;\n  flex-direction: column;\n  margin: 0;\n  padding: 10px;\n  width: 100%;\n  gap: 3px;\n}\n\n.statistics-page__results-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n  padding: 7px;\n  margin: 0;\n  border: 1px solid var(--color-body-dark);\n  border-radius: 10px;\n  width: 100%;\n}\n\n.statistics-page__image-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 10px;\n  padding: 10px;\n}\n\n.statistics-page__image {\n  max-width: 200px;\n  border-radius: 10px;\n}\n\n.statistics-page__image-title,\n.statistics-page__image-info {\n  padding: 0;\n  margin: 0;\n}\n\n.statistics-page__image-title {\n  font-size: 0.9rem;\n}\n\n.statistics-page__image-info {\n  font-size: 0.7rem;\n}\n`,""]);const g=h},568:(t,n,e)=>{e.d(n,{A:()=>r});var o=e(601),i=e.n(o),s=e(314),a=e.n(s)()(i());a.push([t.id,"* {\n  box-sizing: inherit;\n  font-family: inherit;\n}\n\n:root {\n  --color-body-dark: #1f2041;\n  --color-container: #4b3f72;\n  --color-highlight: #ffc857;\n  --color-label-light: #119da4;\n  --color-label-dark: #19547e;\n  --color-text-light: #fbfef9;\n  --color-text-red: #f22b29;\n}\n\nhtml {\n  box-sizing: border-box;\n  scroll-behavior: smooth;\n}\n\na {\n  text-decoration: none;\n  color: var(--color-text-white);\n}\n\nbody {\n  display: flex;\n  margin: 0;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n  font-family: Montserrat;\n  color: #ffffff;\n  text-rendering: optimizelegibility;\n  text-size-adjust: 100%;\n  -webkit-font-smoothing: antialiased;\n  -webkit-tap-highlight-color: transparent;\n  background-color: var(--color-body-dark);\n  transition: 2s;\n}\n\n.fixed {\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\nbutton {\n  background-color: var(--color-label-light);\n  color: var(--color-text-light);\n  font-size: 16px;\n  border: none;\n  display: flex;\n  flex-grow: 0;\n  max-height: 40px;\n  padding: 7px;\n  border-radius: 100px;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: 0.3s;\n  animation: fadein 0.3s ease-in;\n  user-select: none;\n}\n\nbutton:hover {\n  background-color: var(--color-highlight);\n  color: var(--color-body-dark);\n}\n\nbutton:disabled {\n  pointer-events: none;\n  opacity: 0.7;\n}\n\n@keyframes fadein {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeout {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.fade-out {\n  animation: fadeout 0.3s ease-in forwards;\n  pointer-events: none;\n}\n\n.fade-out-slow {\n  animation: fadeout 2s ease-in forwards;\n}\n\n.fade-in {\n  animation: fadein 0.3s ease-in forwards;\n}\n\n.fade-in-slow {\n  animation: fadein 2s ease-in forwards;\n}\n",""]);const r=a},314:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",o=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),o&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),o&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,o,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(a[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);o&&a[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),n.push(c))}},n}},417:t=>{t.exports=function(t,n){return n||(n={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),n.hash&&(t+=n.hash),/["'() \t\n]|(%20)/.test(t)||n.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var n=[];function e(t){for(var e=-1,o=0;o<n.length;o++)if(n[o].identifier===t){e=o;break}return e}function o(t,o){for(var s={},a=[],r=0;r<t.length;r++){var l=t[r],d=o.base?l[0]+o.base:l[0],c=s[d]||0,h="".concat(d," ").concat(c);s[d]=c+1;var u=e(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(p);else{var g=i(p,o);o.byIndex=r,n.splice(r,0,{identifier:h,updater:g,references:1})}a.push(h)}return a}function i(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,i){var s=o(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var r=e(s[a]);n[r].references--}for(var l=o(t,i),d=0;d<s.length;d++){var c=e(s[d]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}s=l}}},659:t=>{var n={};t.exports=function(t,e){var o=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}},540:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},56:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var o="";e.supports&&(o+="@supports (".concat(e.supports,") {")),e.media&&(o+="@media ".concat(e.media," {"));var i=void 0!==e.layer;i&&(o+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),o+=e.css,i&&(o+="}"),e.media&&(o+="}"),e.supports&&(o+="}");var s=e.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(o,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},113:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},567:(t,n,e)=>{t.exports=e.p+"assets/icons/circle-check-solid-dark..svg"},110:(t,n,e)=>{t.exports=e.p+"assets/icons/circle-check-solid..svg"},481:(t,n,e)=>{t.exports=e.p+"assets/icons/circle-xmark-solid..svg"},394:(t,n,e)=>{t.exports=e.p+"assets/icons/github..svg"},138:(t,n,e)=>{t.exports=e.p+"assets/icons/loader..svg"},757:(t,n,e)=>{t.exports=e.p+"assets/icons/play..svg"},501:(t,n,e)=>{t.exports=e.p+"assets/icons/rss..svg"}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var s=n[o]={id:o,exports:{}};return t[o](s,s.exports,e),s.exports}e.m=t,e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=o[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href,e.nc=void 0,(()=>{var t=e(72),n=e.n(t),o=e(825),i=e.n(o),s=e(659),a=e.n(s),r=e(56),l=e.n(r),d=e(540),c=e.n(d),h=e(113),u=e.n(h),p=e(315),g={};g.styleTagTransform=u(),g.setAttributes=l(),g.insert=a().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=c(),n()(p.A,g),p.A&&p.A.locals&&p.A.locals;class m{constructor(t,n,e,o,...i){this.content=[],this.childComponents=[],this.listeners=[],this.node=document.createElement(t),n&&n.forEach((t=>{this.node.classList.add(t)})),e&&Object.assign(this.node,e),o&&Object.keys(o).forEach((t=>{const n=o[t];n&&this.node.setAttribute(t,n)})),i&&this.appendContent(i)}getComponent(){return this.node}getContent(){return this.content}getChildComponents(){return this.childComponents}append(t){t&&(t instanceof m?(this.node.append(t.getComponent()),this.content.push(t.getComponent()),this.childComponents.push(t)):this.node.append(t))}appendContent(t){t.forEach((t=>{t&&this.append(t)}))}setAttribute(t,n){void 0!==n&&this.node.setAttribute(t,n)}setTextContent(t){t&&(this.node.textContent=t)}addListener(t,n,e){this.node.addEventListener(t,n,e);const o={eType:t,handler:n};e&&(o.options=e),this.listeners.push(o)}removeListenerOfType(t){this.listeners.forEach((n=>{n.eType===t&&(n.options?this.node.removeEventListener(n.eType,n.handler,n.options):this.node.removeEventListener(n.eType,n.handler))}))}removeAllListeners(){this.listeners.forEach((t=>{t.options?this.node.removeEventListener(t.eType,t.handler,t.options):this.node.removeEventListener(t.eType,t.handler)}))}setStyleAttribute(t,n){this.node.style.setProperty(t,n)}removeStyleAttribute(t){this.node.style.removeProperty(t)}getSize(){return{width:this.node.clientWidth,height:this.node.clientHeight}}hide(){this.getComponent().hidden=!0}show(){this.getComponent().hidden=!1}setBgImage(t,n,e){t&&(this.node.style.backgroundImage=`url(${t})`,this.node.style.backgroundSize=`${n.width}px ${n.height}px`,this.node.style.backgroundPosition=`${e.left}px ${e.top}px`)}clear(){this.content.forEach((t=>{t instanceof m?t.destroy():null==t||t.remove()})),this.content=[],this.clearAll()}destroy(){this.clear(),this.node.remove()}clearAll(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild)}}const b=m,_=(t,...n)=>new b("div",t,{},{},...n),f=(t,n)=>new b("p",t,{textContent:n}),v=(t,n)=>new b("h2",t,{textContent:n}),y=(t,n)=>new b("h3",t,{textContent:n}),x=(t,n,e)=>new b("a",t,{textContent:n},{href:e,target:"_blanc"}),w=(t,n="",e="button",o)=>new b("button",t,{textContent:n,type:e,id:o}),C=(t,n)=>new b("input",t,n),S=(t,n,e="")=>new b("label",t,{textContent:e},{for:n}),L=(t,n)=>{const e=new b("span",t);return n&&(e.getComponent().textContent=n),e},k=(t,n="",...e)=>{const o=new b("li",t,{},{},...e);return n&&(o.getComponent().textContent=n),o},A=(t,n)=>{const e=new b("ul",t);return n&&e.appendContent(n),e};var T=e(31),z={};z.styleTagTransform=u(),z.setAttributes=l(),z.insert=a().bind(null,"head"),z.domAPI=i(),z.insertStyleElement=c(),n()(T.A,z),T.A&&T.A.locals&&T.A.locals;const R=new class{constructor(){this.eventList={}}on(t,n){this.eventList[t]||(this.eventList[t]=[]),this.eventList[t].push(n)}off(t,n){this.eventList[t]=n?this.eventList[t].filter((t=>n!==t)):[]}emit(t,...n){this.eventList[t]&&this.eventList[t].forEach((t=>{t.call(this,n)}))}};var E=e(107),I={};I.styleTagTransform=u(),I.setAttributes=l(),I.insert=a().bind(null,"head"),I.domAPI=i(),I.insertStyleElement=c(),n()(E.A,I),E.A&&E.A.locals&&E.A.locals;const $=new class extends b{constructor(){super("div",["overlay","overlay_loader"])}draw(){this.append(_(["loader"])),document.body.append(this.getComponent())}close(){this.getComponent().classList.add("fade-out"),setTimeout((()=>{this.getComponent().classList.remove("fade-out"),this.destroy()}),500)}};class H extends b{constructor(){super("div",["overlay"])}closeModal(){this.getComponent().classList.add("fade-out"),setTimeout((()=>{this.getComponent().classList.remove("fade-out"),this.destroy()}),500)}openMmodalLogout(){document.body.append(this.getComponent());const t=_(["modal","modal_logout"],v(["modal__title"],"Are you sure?"),f(["modal__text"],"Logging out will remove all of your saved data and progress in localStorage.")),n=w(["modal__button"],"close","button","close-btn");n.addListener("click",(()=>this.closeModal()));const e=w(["modal__button"],"logout","button","logout-btn");e.addListener("click",(()=>{this.closeModal(),$.draw(),$.close(),R.emit("logout")}));const o=_(["modal__buttons-container"],n,e);t.appendContent([o]),this.append(t)}}const B=new H;const P=new class{constructor(){this.urlPrefix="https://raw.githubusercontent.com/rolling-scopes-school/rss-puzzle-data/main/"}fetchLevelsData(t){return n=this,e=void 0,i=function*(){const n=yield fetch(`./assets/data/wordCollectionLevel${t}.json`);if(!n.ok)throw new Error("Cannot read levels data");return yield n.json()},new((o=void 0)||(o=Promise))((function(t,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function r(t){try{l(i.throw(t))}catch(t){s(t)}}function l(n){var e;n.done?t(n.value):(e=n.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,r)}l((i=i.apply(n,e||[])).next())}));var n,e,o,i}getImageUrl(t){return`${this.urlPrefix}images/${t}`}getAudioUrl(t){return`${this.urlPrefix}${t}`}};const M=new class{constructor(){this.templateData={hintsOptions:{imageHint:!0,audioHint:!0,translationHint:!0},firstName:"",surname:"",stats:{},lastRound:{level:1,round:-1},currentRound:{level:1,round:0},currentRoundStats:{}},this.key="alv0425-rss-pz",R.on("logout",(()=>this.clearStorage()))}checkFirstLoad(){Object.prototype.hasOwnProperty.call(localStorage,this.key)||localStorage.setItem(this.key,JSON.stringify(this.templateData))}clearStorage(){this.saveLoginData(this.templateData)}saveLoginData(t){localStorage.setItem(this.key,JSON.stringify(t))}getData(){const t=localStorage.getItem(this.key);let n=this.templateData;return t&&(n=JSON.parse(t)),n}getName(){const t=this.getData();return`${t.firstName} ${t.surname}`}getHintOptions(){return this.getData().hintsOptions}setHintOptions({imageHint:t,audioHint:n,translationHint:e}){const o=this.getData();o.hintsOptions.imageHint=t,o.hintsOptions.audioHint=n,o.hintsOptions.translationHint=e,this.saveLoginData(o)}getRoundStats(t){const n=this.getData();return n.stats&&n.stats[t]?n.stats[t]:null}checkLevelCompletion(t){return n=this,e=void 0,i=function*(){const n=this.getData(),e=yield P.fetchLevelsData(t);return!!n.stats&&e.rounds.map((t=>t.levelData.id)).every((t=>!!n.stats&&n.stats[t]))},new((o=void 0)||(o=Promise))((function(t,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function r(t){try{l(i.throw(t))}catch(t){s(t)}}function l(n){var e;n.done?t(n.value):(e=n.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,r)}l((i=i.apply(n,e||[])).next())}));var n,e,o,i}setRoundStats(t,n){const e=this.getData();e.stats&&(e.stats[n]=t,this.saveLoginData(e))}getLastCompletedRound(){const t=this.getData();return t.lastRound&&t.lastRound?t.lastRound:null}setLastCompletedRound(t,n){const e=this.getData();e.lastRound&&(e.lastRound={level:t,round:n},this.saveLoginData(e))}getCurrentRound(){const t=this.getData();return t.currentRound&&t.currentRound?t.currentRound:null}setCurrentRound(t,n){const e=this.getData();e.currentRound&&(e.currentRound={level:t,round:n},this.saveLoginData(e))}setCurrentRoundStats(t,n){const e=this.getData();e.currentRoundStats&&(e.currentRoundStats.currentStats=t,e.currentRoundStats.roundInfo=n,this.saveLoginData(e))}getCurrentRoundStats(){const t=this.getData();return t.currentRoundStats&&t.currentRoundStats?t.currentRoundStats:null}},D=class extends b{constructor(){super("header",["header"]),this.headerCont=_(["header__container"],new b("h1",["header__logo"],{textContent:"RSS PUZZLE"})),this.loginButton=w(["header__button"],"LOG OUT"),this.loginButton.addListener("click",(()=>{B.openMmodalLogout()})),this.headerCont.append(this.loginButton),R.on("login",(()=>{this.draw(),this.append(this.headerCont)})),R.on("logout",(()=>{this.clear()})),document.body.append(this.node),this.draw()}draw(){this.clear(),M.getData().firstName&&this.append(this.headerCont),this.append(this.headerCont)}};var W=e(687),O={};O.styleTagTransform=u(),O.setAttributes=l(),O.insert=a().bind(null,"head"),O.domAPI=i(),O.insertStyleElement=c(),n()(W.A,O),W.A&&W.A.locals&&W.A.locals;const N=class extends b{constructor(){super("footer",["footer"],{},{},_(["footer__container"],f(["footer__year"],"2024"),x(["footer__github"],"alv0425","https://github.com/alv0425"),x(["footer__rss"],"","https://rs.school/js/"))),this.draw()}draw(){document.body.append(this.getComponent())}};var j=e(691),U={};U.styleTagTransform=u(),U.setAttributes=l(),U.insert=a().bind(null,"head"),U.domAPI=i(),U.insertStyleElement=c(),n()(j.A,U),j.A&&j.A.locals&&j.A.locals;var F=e(775),Y={};Y.styleTagTransform=u(),Y.setAttributes=l(),Y.insert=a().bind(null,"head"),Y.domAPI=i(),Y.insertStyleElement=c(),n()(F.A,Y),F.A&&F.A.locals&&F.A.locals;class X{validateName(t,n){const e=[];if(!(t instanceof HTMLInputElement))return[""];/^[a-zA-Z-]+$/.test(t.value)||e.push(`The ${n} must consist of letters from the English alphabet and the hyphen ('-') symbol.`);const o="first name"===n?3:4;return t.value.length<o&&e.push(`The ${n} must be a minimum of ${o} characters.`),/^[A-Z]{1}[a-zA-Z-]{1,}$/.test(t.value)||e.push(`The ${n} should start with a capital letter.`),e}emitHints(t,n){if(t.clear(),n.length){const e=[];n.forEach((t=>{t&&e.push(f(["login-form__hint"],t))})),t.appendContent(e)}}}const G=class extends b{constructor(){super("form",["login-form"],{id:"login-form"},{action:""},v(["login-form__title"],"Welcome Back!")),this.loginFirstName=[],this.loginSurname=[],this.hintsContainer=[],this.firstNameStatus=[],this.surnameStatus=[],this.submitButton=w(["login-form__button"],"Log In","submit","login-submit"),this.submitButton.getComponent().disabled=!0,this.hintsContainer=[_(["login-form__hints-container"]),_(["login-form__hints-container"])],this.draw(),this.setListener(),this.setListeners(),this.validator=new X}setListener(){this.addListener("submit",(t=>{if(t.preventDefault(),0===this.surnameStatus.length&&0===this.firstNameStatus.length){const t=M.getData(),n=this.loginFirstName[1].getComponent();t.firstName=n.value;const e=this.loginSurname[1].getComponent();t.firstName=n.value,t.surname=e.value,M.saveLoginData(t),R.emit("login")}}))}setListeners(){const t=this.loginFirstName[1];t.addListener("keyup",(()=>{const n=t.getComponent();this.firstNameStatus=this.validator.validateName(n,"first name"),this.validator.emitHints(this.hintsContainer[0],this.firstNameStatus),this.firstNameStatus.length&&(this.submitButton.getComponent().disabled=!0),0===this.surnameStatus.length&&0===this.firstNameStatus.length&&(this.submitButton.getComponent().disabled=!1)}));const n=this.loginSurname[1];n.addListener("keyup",(()=>{const t=n.getComponent();this.surnameStatus=this.validator.validateName(t,"surname"),this.validator.emitHints(this.hintsContainer[1],this.surnameStatus),this.surnameStatus.length&&(this.submitButton.getComponent().disabled=!0),0===this.surnameStatus.length&&0===this.firstNameStatus.length&&(this.submitButton.getComponent().disabled=!1)}))}draw(){this.loginSurname=[S(["login-form__label"],"surname","Surname"),C(["login-form__input"],{type:"text",id:"surname",value:"",placeholder:"Doe...",required:!0,pattern:"[A-Z][a-zA-Z\\-]{3,}"})],this.loginFirstName=[S(["login-form__label"],"first-name","First Name"),C(["login-form__input"],{type:"text",id:"first-name",value:"",placeholder:"John...",required:!0,pattern:"[A-Z][a-zA-Z\\-]{2,}"})],this.appendContent([_(["login-form__first-name"],...this.loginFirstName,this.hintsContainer[0]),_(["login-form__last-name"],...this.loginSurname,this.hintsContainer[1]),this.submitButton])}};var Z=e(895),J={};J.styleTagTransform=u(),J.setAttributes=l(),J.insert=a().bind(null,"head"),J.domAPI=i(),J.insertStyleElement=c(),n()(Z.A,J),Z.A&&Z.A.locals&&Z.A.locals;const q=function(t,n){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.classList.add(n);const o=document.createElementNS("http://www.w3.org/2000/svg","use");return o.setAttribute("href",t),e.append(o),e},Q=class{constructor(){const t=q("./assets/background/puzzle-1.svg#puzzle-right","puzzle-right"),n=q("./assets/background/puzzle-2.svg#puzzle-left","puzzle-left");document.body.append(t,n),R.on("logout",(()=>{t.remove(),n.remove()}))}};var V=e(943),K={};K.styleTagTransform=u(),K.setAttributes=l(),K.insert=a().bind(null,"head"),K.domAPI=i(),K.insertStyleElement=c(),n()(V.A,K),V.A&&V.A.locals&&V.A.locals;const tt=class extends b{constructor(){super("div",["start-screen"],{},{},v(["start-screen__greeting"],`Hello, ${M.getName()}!`),f(["start-screen__text"],"RSS-PUZZLE is a game designed to enhance English language skills."),f(["start-screen__text"],"You will be challenged to assemble sentences from jumbled puzzle-like word cards. Once you have properly organized all the words, you will reveal beautiful artwork."),f(["start-screen__text"],"Good luck and have fun!"));const t=w(["start-screen__button"],"","button","start-button");t.appendContent([L(["start-screen__button-label"],"START"),L(["start-screen__button-icon"])]),this.append(t),this.puzzlesBg=new Q,t.addListener("click",(()=>R.emit("startclicked")))}};var nt=e(631),et={};et.styleTagTransform=u(),et.setAttributes=l(),et.insert=a().bind(null,"head"),et.domAPI=i(),et.insertStyleElement=c(),n()(nt.A,et),nt.A&&nt.A.locals&&nt.A.locals;var ot=e(477),it={};function st(t,n){return function(t,n){if(null===n)throw new Error("element is null");if(!(n instanceof t))throw new Error(`${n} is not instance of ${t}`)}(t,n),n}it.styleTagTransform=u(),it.setAttributes=l(),it.insert=a().bind(null,"head"),it.domAPI=i(),it.insertStyleElement=c(),n()(ot.A,it),ot.A&&ot.A.locals&&ot.A.locals;var at=function(t,n,e,o){return new(e||(e=Promise))((function(i,s){function a(t){try{l(o.next(t))}catch(t){s(t)}}function r(t){try{l(o.throw(t))}catch(t){s(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,r)}l((o=o.apply(t,n||[])).next())}))};const rt=class extends b{constructor(t,n,e){super("div",["card"]),this.currentWidth=0,this.curTarget=null,this.text=t,this.baseCardLayer=_(["card__base"],_(["card__base-rect"])),this.baseCircle=_(["card__base-circle"]),this.borderCircle=_(["card__border-circle"]),this.baseCardLayer.append(this.baseCircle),this.baseImageLayer=_(["card__image"]),this.imageCardRect=_(["card__image-rect"]),this.imageCardCircle=_(["card__image-circle"]),this.baseImageLayer.appendContent([this.imageCardRect,this.imageCardCircle]),this.textCardLayer=L(["card__text"],t),this.appendContent([this.baseCardLayer,this.baseImageLayer,this.textCardLayer,this.borderCircle]),this.sentenceIdx=n,this.wordIndex=e,this.position="source",this.draggable=!1,this.addListener("dragstart",(t=>t.preventDefault())),R.on("reveal-image",(()=>{this.getComponent().classList.add("fade-out-slow"),setTimeout((()=>{this.destroy()}),2e3)}))}getComponent(){return this.node}setWidth(t,n){this.currentWidth=Math.round(t.width*n),this.setStyleAttribute("width",`${this.currentWidth}px`),this.setStyleAttribute("height",`${Math.round(.1*t.height)}px`),this.setStyleAttribute("font-size",`${Math.round(.38*t.height/10)}px`);const e=this.getComponent().parentElement;e&&e.style.setProperty("width",`${this.currentWidth}px`),this.baseCircle.setStyleAttribute("mask",`radial-gradient(0.6em at calc(${this.currentWidth}px - 0.6em) 50%, #000 90%, transparent 100%)`),this.imageCardCircle.setStyleAttribute("mask",`radial-gradient(0.6em at calc(${this.currentWidth}px - 0.6em) 50%, #000 90%, transparent 100%)`),this.imageCardRect.setStyleAttribute("background-size",`${t.width}px auto`),this.imageCardCircle.setStyleAttribute("background-size",`${t.width}px auto`),this.textCardLayer.setStyleAttribute("transform","scale(1)"),Math.round(.38*t.height/10)>16&&this.textCardLayer.setStyleAttribute("transform","scale(0.8)")}setBackground(t){const n=P.getImageUrl(t);this.imageCardCircle.setStyleAttribute("background-image",`url(${n})`),this.imageCardRect.setStyleAttribute("background-image",`url(${n})`)}moveTo(t,n){return at(this,void 0,void 0,(function*(){const e=this.getComponent().getBoundingClientRect(),o=Math.round(t-e.x),i=Math.round(n-e.y);return this.setStyleAttribute("transform",`translateX(${o}px) translateY(${i}px)`),new Promise((t=>{setTimeout((()=>{t(!0),this.removeStyleAttribute("transform")}),500)}))}))}animateMove(t,n){return at(this,void 0,void 0,(function*(){const e=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=Math.round(o.x-e.x),s=Math.round(o.y-e.y);return this.setStyleAttribute("transform",`translateX(${i}px) translateY(${s}px)`),new Promise((t=>{setTimeout((()=>{t(!0),this.removeStyleAttribute("transform")}),500)}))}))}setCoordinates(t,n){this.setStyleAttribute("transition","0s"),this.setStyleAttribute("position","relative"),this.setStyleAttribute("left",`${t}px`),this.setStyleAttribute("top",`${n}px`),this.setStyleAttribute("z-index","10")}unsetCoordinates(){this.removeStyleAttribute("transition"),this.setStyleAttribute("left","0px"),this.setStyleAttribute("top","0px"),this.removeStyleAttribute("z-index")}checkElementBelow(t,n){this.hide();const e=document.elementFromPoint(t,n);if(this.show(),!e)return;const o=e.closest(".wordplace");this.curTarget!==o&&(this.curTarget&&this.curTarget.classList.remove("highlight"),this.curTarget=o,this.curTarget&&this.curTarget.classList.add("highlight"))}swapPlaces(t,n){if(t===n)return;const e=n.previousSibling,o=n.previousSibling;t.before(n),e?e.after(t):o&&o.before(t)}isInsideField(t,n){const e=st(HTMLElement,document.querySelector(".playboard__field")).getBoundingClientRect();return!(t<e.x||n<e.y||t>e.x+e.width||n>e.y+e.width)}getCoords(t){const n={x:0,y:0};return t instanceof TouchEvent?(n.x=t.touches[0].clientX,n.y=t.touches[0].clientY):t instanceof MouseEvent&&(n.x=t.clientX,n.y=t.clientY),n}dragCardMouse(t,n){const e=this.getComponent().getBoundingClientRect(),o=t.clientX-this.getComponent().getBoundingClientRect().left,i=t.clientY-this.getComponent().getBoundingClientRect().top,s=t=>{(o>5||i>5)&&(this.draggable=!0);const n=this.getCoords(t);this.setCoordinates(n.x-e.x-o,n.y-e.y-i),this.checkElementBelow(n.x,n.y)};document.body.addEventListener("mousemove",s),document.body.addEventListener("mouseup",(()=>{document.body.removeEventListener("mousemove",s),this.draggable&&(this.unsetCoordinates(),this.curTarget&&n()),this.unsetCoordinates()}))}dragCardTouch(t,n){const e=this.getComponent().getBoundingClientRect(),o=t.touches[0].clientX-this.getComponent().getBoundingClientRect().left,i=t.touches[0].clientY-this.getComponent().getBoundingClientRect().top,s=t=>{document.body.classList.add("fixed"),(o>5||i>5)&&(this.draggable=!0);const n=this.getCoords(t);this.setCoordinates(n.x-e.x-o,n.y-e.y-i),this.checkElementBelow(n.x,n.y)};document.body.addEventListener("touchmove",s),document.body.addEventListener("touchend",(()=>{document.body.classList.remove("fixed"),document.body.removeEventListener("touchmove",s),this.draggable&&(this.unsetCoordinates(),this.curTarget&&n()),this.unsetCoordinates()}))}};const lt=class{constructor(t,n){this.words=t.textExample.split(" "),this.wordCards=this.words.map(((t,e)=>new rt(t,n,e))),this.wordCards[0].getComponent().classList.add("card_start"),this.wordCards[this.wordCards.length-1].getComponent().classList.add("card_end"),this.sentenceLength=this.words.join("").length,this.wordWeights=this.words.map((t=>(t.length+4)/(this.sentenceLength+4*this.words.length))),this.sentenceIdx=n}animateArrangingCards(t){return n=this,e=void 0,i=function*(){const n=t.getBoundingClientRect(),e=this.wordCards.map((t=>t.currentWidth)),o=[0];let i=0;for(let t=0;t<this.wordCards.length-1;t+=1)i+=e[t],o.push(i);this.wordCards.forEach(((t,e)=>t.moveTo(n.x+o[e],n.y)))},new((o=void 0)||(o=Promise))((function(t,s){function a(t){try{l(i.next(t))}catch(t){s(t)}}function r(t){try{l(i.throw(t))}catch(t){s(t)}}function l(n){var e;n.done?t(n.value):(e=n.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,r)}l((i=i.apply(n,e||[])).next())}));var n,e,o,i}resizeCards(t){this.wordCards.forEach(((n,e)=>{n.setWidth(t,this.wordWeights[e]),this.words.length>9&&n.textCardLayer.setStyleAttribute("transform","scale(0.9)")}));const n=this.wordCards.map((t=>t.currentWidth)),e=[0];let o=0;for(let t=0;t<this.wordCards.length-1;t+=1)o+=n[t],e.push(o);this.wordCards.forEach(((n,o)=>{n.imageCardRect.setStyleAttribute("background-position",`-${e[o]}px -${Math.floor(t.height*this.sentenceIdx/10)}px`);const i=.38*t.height/10;n.imageCardCircle.setStyleAttribute("background-position",`-${e[o]+Math.floor(.75*i)}px -${Math.floor(t.height*this.sentenceIdx/10)}px`)})),R.emit("cardsresized")}},dt=class{constructor(t){this.info=t;const n=t.levelData.id.split("_");this.roundIndex=parseInt(n[1],10)-1,this.levelIndex=parseInt(n[0],10),this.wordSentences=this.info.words.map(((t,n)=>new lt(t,n))),this.state={isCurrent:!1,isFinished:!1,solvedSentences:[],openedSentences:[],currentSentence:{current:0,sourceBlock:[],resultBlock:[]}}}resetGameState(){this.state={isCurrent:!1,isFinished:!1,solvedSentences:[],openedSentences:[],currentSentence:{current:0,sourceBlock:[],resultBlock:[]}}}generateSources(t){const n=this.wordSentences[t].wordCards.slice();for(let t=n.length-1;t>0;t-=1){const e=Math.floor(Math.random()*(t+1));[n[t],n[e]]=[n[e],n[t]]}return n}resizeAllCards(t){this.wordSentences.forEach((n=>{n.resizeCards(t)}))}generateWordsPlaces(t){return t.map((t=>{const n=_(["wordplace","placed"],t);return n.setAttribute("id",`source-${t.sentenceIdx}-${t.wordIndex}`),n.getComponent()}))}generateResultArea(t){const n=_(["puzzle__sentence"]);return this.wordSentences[t].wordCards.forEach(((e,o)=>{const i=_(["wordplace"]);i.setAttribute("id",`result-${t}-${o}`),n.append(i)})),n}loadGameState(t){this.state=t}},ct=class extends b{constructor(){super("button",["playboard__button"],{},{id:"playboard-button",type:"button"}),this.buttonState="Check",this.setTextContent("Check"),this.getComponent().disabled=!0,R.on("source-block-epmty",(()=>{this.getComponent().disabled=!1})),R.on("source-block-filled",(()=>{this.getComponent().disabled=!0})),R.on("sentencesolved",(()=>{this.getComponent().disabled=!1,this.setState("Continue")})),R.on("sentencearranged",(()=>{this.getComponent().disabled=!1,this.setState("Continue")})),R.on("startsentence",(()=>{this.getComponent().disabled=!0,this.setState("Check")})),this.addListener("click",(()=>{"Check"===this.buttonState&&R.emit("check-sentence"),"Continue"===this.buttonState&&R.emit("continue-game")}))}setState(t){this.buttonState=t,this.setTextContent(this.buttonState)}};var ht=e(902),ut={};ut.styleTagTransform=u(),ut.setAttributes=l(),ut.insert=a().bind(null,"head"),ut.domAPI=i(),ut.insertStyleElement=c(),n()(ht.A,ut),ht.A&&ht.A.locals&&ht.A.locals;const pt=class extends b{constructor(){super("button",["playboard__button"],{},{id:"playboard-button-autocomplete",type:"button"}),this.setTextContent("Auto-Complete"),this.addListener("click",(()=>{this.getComponent().disabled=!0,R.emit("autocomplete")})),R.on("sentencesolved",(()=>{this.getComponent().disabled=!0})),R.on("startsentence",(()=>{this.getComponent().disabled=!1})),R.on("reveal-image",(()=>{this.hideButton()})),R.on("statistics-button-hide",(()=>{this.showButton()})),R.on("source-block-epmty",(()=>{this.getComponent().disabled=!1}))}showButton(){this.getComponent().classList.remove("playboard__autocomplete-button_hide")}hideButton(){this.getComponent().classList.add("fade-out"),setTimeout((()=>{this.getComponent().classList.remove("fade-out"),this.getComponent().classList.add("playboard__autocomplete-button_hide"),R.emit("autocomplete-hide")}),500)}};var gt=e(502),mt={};mt.styleTagTransform=u(),mt.setAttributes=l(),mt.insert=a().bind(null,"head"),mt.domAPI=i(),mt.insertStyleElement=c(),n()(gt.A,mt),gt.A&&gt.A.locals&&gt.A.locals;const bt=class{constructor(){this.on=!0,this.hintContainer=_(["playboard__translation-hint"]),this.hintText=f(["playboard__hint-label"],""),this.hintContainer.append(this.hintText),this.hintToggler=w(["playboard__hint-translation-toggler"],"","button","translation-toggler");const t=q("./assets/icons/lightbulb-solid.svg#lightbulb","playboard__hint-toggler-icon");this.hintToggler.getComponent().append(t),this.hintToggler.addListener("click",(()=>{this.on?(this.hintToggler.getComponent().classList.remove("playboard__hint-translation-toggler_active"),this.on=!1,this.hideHint(),this.saveOption()):(this.hintToggler.getComponent().classList.add("playboard__hint-translation-toggler_active"),this.on=!0,this.showhint(),this.saveOption())})),R.on("sentencesolved",(()=>this.showhint())),R.on("sentencearranged",(()=>this.showhint())),R.on("startsentence",(()=>{this.hideHint(),this.on&&this.showhint()}));const n=M.getHintOptions();this.on=n.translationHint,this.on&&this.hintToggler.getComponent().classList.add("playboard__hint-translation-toggler_active")}setHint(t){this.hideHint(),setTimeout((()=>{this.hintText.setTextContent(t),this.on&&this.showhint()}),500)}showhint(){this.hintContainer.getComponent().classList.remove("playboard__translation-hint_hide")}hideHint(){this.hintContainer.getComponent().classList.add("playboard__translation-hint_hide")}getHintContainer(){return this.hintContainer}getHintToggler(){return this.hintToggler}saveOption(){const t=M.getHintOptions();t.translationHint=this.on,M.setHintOptions(t)}};var _t=e(312),ft={};ft.styleTagTransform=u(),ft.setAttributes=l(),ft.insert=a().bind(null,"head"),ft.domAPI=i(),ft.insertStyleElement=c(),n()(_t.A,ft),_t.A&&_t.A.locals&&_t.A.locals;const vt=class{constructor(){this.audioSource="",this.on=!0,this.audio=new Audio,this.hintButton=w(["playboard__hint-audio-button"],"","button","audio-button");const t=q("./assets/icons/waves-1.svg#waves1","playboard__audio-hint-icon-1"),n=q("./assets/icons/waves-2.svg#waves2","playboard__audio-hint-icon-2");this.hintButton.getComponent().append(t,n),this.hintButton.addListener("click",(()=>{this.audioSource&&this.playAudio()})),this.hintToggler=w(["playboard__hint-audio-toggler"],"","button","audio-toggler");const e=q("./assets/icons/headphones-simple-solid.svg#headphones","playboard__hint-toggler-icon");this.hintToggler.getComponent().append(e),this.hintToggler.addListener("click",(()=>{this.on?(this.hintToggler.getComponent().classList.remove("playboard__hint-audio-toggler_active"),this.on=!1,this.hideHint(),this.saveOption()):(this.hintToggler.getComponent().classList.add("playboard__hint-audio-toggler_active"),this.on=!0,this.showhint(),this.saveOption())})),R.on("sentencesolved",(()=>this.showhint())),R.on("sentencearranged",(()=>this.showhint())),R.on("startsentence",(()=>{this.hideHint(),this.on&&this.showhint()}));const o=M.getHintOptions();this.on=o.audioHint,this.on&&this.hintToggler.getComponent().classList.add("playboard__hint-audio-toggler_active")}setHint(t){this.hideHint(),setTimeout((()=>{this.hintButton.setTextContent(t),this.on&&this.showhint()}),500)}showhint(){this.hintButton.getComponent().classList.remove("playboard__hint-audio-button_hide")}hideHint(){this.hintButton.getComponent().classList.add("playboard__hint-audio-button_hide")}setAudio(t){this.audioSource=P.getAudioUrl(t),this.audio=new Audio(this.audioSource),this.audio.load()}playAudio(){this.audioSource&&(this.hintButton.getComponent().classList.add("playboard__hint-audio-button_active"),this.audio.currentTime=0,this.audio.play(),this.audio.addEventListener("ended",(()=>{this.hintButton.getComponent().classList.remove("playboard__hint-audio-button_active")})))}getHintButton(){return this.hintButton}getHintToggler(){return this.hintToggler}saveOption(){const t=M.getHintOptions();t.audioHint=this.on,M.setHintOptions(t)}};var yt=e(832),xt={};xt.styleTagTransform=u(),xt.setAttributes=l(),xt.insert=a().bind(null,"head"),xt.domAPI=i(),xt.insertStyleElement=c(),n()(yt.A,xt),yt.A&&yt.A.locals&&yt.A.locals;const wt=class{constructor(){this.on=!0,this.hintToggler=w(["playboard__hint-image-toggler"],"","button","image-toggler");const t=q("./assets/icons/image-solid.svg#image","playboard__hint-toggler-icon");this.hintToggler.getComponent().append(t),this.hintToggler.addListener("click",(()=>{this.on?(this.hintToggler.getComponent().classList.remove("playboard__hint-image-toggler_active"),this.on=!1,this.hideHint(),this.saveOption()):(this.hintToggler.getComponent().classList.add("playboard__hint-image-toggler_active"),this.on=!0,this.showhint(),this.saveOption())}));const n=M.getHintOptions();this.on=n.imageHint,this.on&&this.hintToggler.getComponent().classList.add("playboard__hint-image-toggler_active"),this.on&&this.showhint()}showhint(){R.emit("show-image-hint")}hideHint(){R.emit("hide-image-hint")}getHintToggler(){return this.hintToggler}saveOption(){const t=M.getHintOptions();t.imageHint=this.on,M.setHintOptions(t)}};var Ct=e(393),St={};St.styleTagTransform=u(),St.setAttributes=l(),St.insert=a().bind(null,"head"),St.domAPI=i(),St.insertStyleElement=c(),n()(Ct.A,St),Ct.A&&Ct.A.locals&&Ct.A.locals;var Lt=function(t,n,e,o){return new(e||(e=Promise))((function(i,s){function a(t){try{l(o.next(t))}catch(t){s(t)}}function r(t){try{l(o.throw(t))}catch(t){s(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,r)}l((o=o.apply(t,n||[])).next())}))};const kt=class{constructor(){this.modal=new H,this.button=w(["button"],"Select Level","submit","select-level-button"),this.button.addListener("click",(()=>{R.emit("open-select-modal")}))}createRoundItem(t,n,e){const o=M.getCurrentRound(),i=k(["round-item"]),s=M.getRoundStats(t.levelData.id);s&&i.getComponent().classList.add("round-item_solved");const a=t.words.map(((t,n)=>{const e=L(["round-item__word"],t.word);return(null==s?void 0:s.knownWords.includes(n))&&e.getComponent().classList.add("round-item__word_solved"),(null==s?void 0:s.unknownWords.includes(n))&&e.getComponent().classList.add("round-item__word_opened"),e})),r=_(["round-item__index"]);r.setTextContent(`${n+1}`);const l=_(["round-item__image"]);l.setStyleAttribute("background-image",`url(${P.getImageUrl(t.levelData.cutSrc)})`);const d=_(["round-item__words"],...a);return i.appendContent([r,l,d]),n===(null==o?void 0:o.round)&&e===o.level&&i.getComponent().classList.add("round-item_current"),i}loadRounds(t,n,e){return Lt(this,void 0,void 0,(function*(){const o=yield P.fetchLevelsData(n);t.clear(),o.rounds.forEach(((o,i)=>{const s=this.createRoundItem(o,i,n);t.append(s),s.addListener("click",(()=>{this.modal.closeModal(),e(n,i)}))}))}))}openMmodalSelectGame(t){document.body.append(this.modal.getComponent());const n=_(["modal","modal_select"],v(["modal__title"],"Select The Game"));this.modal.append(n);const e=w(["modal__levels-close"],"Close","button","close-btn");e.addListener("click",(()=>this.modal.closeModal()));const o=_(["modal__levels-container"]),i=A(["modal__rounds-container"]),s=[];[1,2,3,4,5,6].forEach((n=>{const e=w(["modal__level-button"],`level ${n}`,"button",`level-${n}`);s.push(e),e.addListener("click",(()=>Lt(this,void 0,void 0,(function*(){s.forEach((t=>t.getComponent().classList.remove("modal__level-button_active"))),e.getComponent().classList.add("modal__level-button_active"),this.loadRounds(i,n,t)}))))}));const a=M.getCurrentRound();a&&(s[a.level-1].getComponent().classList.add("modal__level-button_active"),this.loadRounds(i,a.level,t)),o.appendContent(s),n.appendContent([o,i,e]),s.forEach(((t,n)=>Lt(this,void 0,void 0,(function*(){(yield M.checkLevelCompletion(n+1))&&t.getComponent().classList.add("modal__level-button_completed")}))))}};var At=e(40),Tt={};Tt.styleTagTransform=u(),Tt.setAttributes=l(),Tt.insert=a().bind(null,"head"),Tt.domAPI=i(),Tt.insertStyleElement=c(),n()(At.A,Tt),At.A&&At.A.locals&&At.A.locals;const zt=new class extends b{constructor(){super("div",["image-info"])}close(){this.getComponent().classList.add("fade-out"),setTimeout((()=>{this.getComponent().classList.remove("fade-out"),this.clear(),this.getComponent().classList.remove("image-info_show")}),500)}setInfo(t){var n,e;this.clear();const o=y(["image-info__title"],`${t.name}`),i=f(["image-info__meta"],`${null!==(n=t.author)&&void 0!==n?n:""}, ${null!==(e=t.year)&&void 0!==e?e:""}`);this.appendContent([o,i])}open(){this.getComponent().classList.add("image-info_hide"),this.getComponent().classList.add("image-info_show"),setTimeout((()=>{this.getComponent().classList.remove("image-info_hide")}),500)}};var Rt=e(600),Et={};Et.styleTagTransform=u(),Et.setAttributes=l(),Et.insert=a().bind(null,"head"),Et.domAPI=i(),Et.insertStyleElement=c(),n()(Rt.A,Et),Rt.A&&Rt.A.locals&&Rt.A.locals;const It=class extends b{constructor(){super("button",["playboard__statistics-button"],{},{id:"playboard-button-statistics",type:"button"}),this.setTextContent("Results"),this.addListener("click",(()=>{R.emit("show-results")})),R.on("startsentence",(()=>{this.getComponent().disabled=!1})),R.on("open-round",(()=>this.hideButton())),R.on("autocomplete-hide",(()=>this.showButton()))}showButton(){this.getComponent().classList.remove("playboard__statistics-button_hide"),this.getComponent().classList.add("playboard__statistics-button_show")}hideButton(){this.getComponent().classList.add("fade-out"),setTimeout((()=>{this.getComponent().classList.remove("playboard__statistics-button_show"),this.getComponent().classList.remove("fade-out"),R.emit("statistics-button-hide")}),500)}};var $t=function(t,n,e,o){return new(e||(e=Promise))((function(i,s){function a(t){try{l(o.next(t))}catch(t){s(t)}}function r(t){try{l(o.throw(t))}catch(t){s(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,r)}l((o=o.apply(t,n||[])).next())}))};const Ht=new class extends b{constructor(){super("div",["playboard"]),this.hints={},this.game=null,this.currentSentenceContainer=null,this.currentSentence=null,this.cardWordplacesSource=[],this.cardWordplacesResult=[],this.currentCards=[],this.roundLabel=null,this.aspectRatio=6/9,this.playboardHeader=_(["playboard__header"]),this.selectLevel=new kt,this.playboardHeader.append(this.selectLevel.button),this.playboardHints=_(["playboard__hints"]),this.playboardField=_(["playboard__field"]),this.playboardButtons=_(["playboard__buttons"]),this.playboardPuzzleContainer=_(["playboard__puzzle-container"]),this.playboardSourceContainer=_(["playboard__source-container"]),this.playboardField.appendContent([this.playboardPuzzleContainer,this.playboardSourceContainer,zt]),this.appendContent([this.playboardHeader,this.playboardHints,this.playboardField,this.playboardButtons]),this.setListeners(),this.drawHints(),this.drawContinueButton(),this.drawStatisticsButton(),this.drawAutocompleteButton(),this.drawRoundLabel()}resize(){const t=this.playboardHeader.getSize();t.width-=20,t.height=Math.floor(t.width*this.aspectRatio),this.playboardPuzzleContainer.setStyleAttribute("aspect-ratio",`1000 / ${Math.floor(1e3*this.aspectRatio)}`),this.game&&this.game.resizeAllCards(t),this.resizeContainers()}setListeners(){R.on("cardsresized",(()=>{this.resizeContainers()})),window.addEventListener("resize",(()=>{this.resize()})),R.on("sentencesolved",(()=>{this.setSolved()})),R.on("sentencearranged",(()=>{this.setArranged()})),R.on("statistics-page-closed",(()=>{setTimeout((()=>this.resize()),100)})),R.on("round-completed",(()=>{var t;console.log("round-completed"),R.emit("reveal-image"),this.game&&(this.playboardPuzzleContainer.setStyleAttribute("background-image",`url(${P.getImageUrl(null===(t=this.game)||void 0===t?void 0:t.info.levelData.imageSrc)})`),M.setLastCompletedRound(this.game.levelIndex,this.game.roundIndex),console.log(`level ${this.game.levelIndex} round ${this.game.roundIndex}`),M.setRoundStats({knownWords:this.game.state.solvedSentences,unknownWords:this.game.state.openedSentences},this.game.info.levelData.id),M.setCurrentRoundStats({knownWords:this.game.state.solvedSentences,unknownWords:this.game.state.openedSentences},this.game.info),zt.setInfo(this.game.info.levelData),zt.open())})),R.on("continue-game",(()=>{this.nextSentence()})),R.on("check-sentence",(()=>{var t;null===(t=this.currentSentenceContainer)||void 0===t||t.classList.toggle("check-mode"),this.checkSentence()})),R.on("open-select-modal",(()=>{console.log("open-select-modal"),this.selectLevel.openMmodalSelectGame(this.loadGame.bind(this))})),R.on("show-image-hint",(()=>{this.playboardField.getComponent().classList.add("playboard__field-show-image")})),R.on("hide-image-hint",(()=>{this.playboardField.getComponent().classList.remove("playboard__field-show-image")})),R.on("source-block-filled",(()=>{var t;return null===(t=this.currentSentenceContainer)||void 0===t?void 0:t.classList.remove("check-mode")})),R.on("autocomplete",(()=>$t(this,void 0,void 0,(function*(){var t;this.currentSentenceContainer&&(yield null===(t=this.currentSentence)||void 0===t?void 0:t.animateArrangingCards(this.currentSentenceContainer),this.currentCards.forEach((t=>t.removeAllListeners())),setTimeout((()=>{var t;R.emit("sentencearranged"),this.arrangeSentence(),null===(t=this.currentSentenceContainer)||void 0===t||t.classList.remove("check-mode")}),500))}))))}drawHints(){const t=_(["playboard__hints-torrlers"]);this.playboardHeader.append(t),this.hints.translationHint=new bt,this.hints.audioHint=new vt,this.hints.imagehint=new wt,this.playboardHints.appendContent([this.hints.translationHint.getHintContainer(),this.hints.audioHint.getHintButton()]),t.appendContent([this.hints.translationHint.getHintToggler(),this.hints.audioHint.getHintToggler(),this.hints.imagehint.getHintToggler()])}arrangeSentence(){this.cardWordplacesResult.sort(((t,n)=>{var e,o;let i,s;return t instanceof HTMLElement&&(i=null===(e=t.getAttribute("id"))||void 0===e?void 0:e.split("-")[2]),n instanceof HTMLElement&&(s=null===(o=n.getAttribute("id"))||void 0===o?void 0:o.split("-")[2]),i&&s?parseInt(i,10)-parseInt(s,10):0})),this.cardWordplacesResult.forEach(((t,n)=>{var e,o,i;(null===(e=this.currentSentence)||void 0===e?void 0:e.wordCards[n])&&t&&t.append(null===(o=this.currentSentence)||void 0===o?void 0:o.wordCards[n].getComponent()),t instanceof HTMLElement&&(t.remove(),t.classList.add("placed","correct"),t.classList.add("error"),null===(i=this.currentSentenceContainer)||void 0===i||i.append(t))}))}setSolved(){var t,n,e,o;this.currentCards.forEach((t=>t.removeAllListeners())),null===(t=this.currentSentenceContainer)||void 0===t||t.classList.add("puzzle__sentence_correct"),this.currentSentence&&(null===(n=this.game)||void 0===n||n.state.solvedSentences.push(null===(e=this.currentSentence)||void 0===e?void 0:e.sentenceIdx)),9===(null===(o=this.currentSentence)||void 0===o?void 0:o.sentenceIdx)&&R.emit("round-completed")}setArranged(){var t,n,e,o;this.currentCards.forEach((t=>t.removeAllListeners())),null===(t=this.currentSentenceContainer)||void 0===t||t.classList.add("puzzle__sentence_arranged"),this.currentSentence&&(null===(n=this.game)||void 0===n||n.state.openedSentences.push(null===(e=this.currentSentence)||void 0===e?void 0:e.sentenceIdx)),9===(null===(o=this.currentSentence)||void 0===o?void 0:o.sentenceIdx)&&R.emit("round-completed")}nextSentence(){return $t(this,void 0,void 0,(function*(){yield this.clearSentenceBlocks(),this.playboardSourceContainer.clear(),this.game&&(this.game.state.currentSentence.current<9?(this.game.state.currentSentence.current+=1,this.loadSentence(this.game.state.currentSentence.current)):(this.openNextRound(),R.emit("open-next-round")))}))}drawStatisticsButton(){const t=new It;this.playboardButtons.append(t)}drawAutocompleteButton(){const t=new pt;this.playboardButtons.append(t)}drawContinueButton(){const t=new ct;this.playboardButtons.append(t),R.on("sentencesolved",(()=>{t.getComponent().disabled=!1}))}drawRoundLabel(){this.roundLabel=_(["playboard__round-label"]),this.playboardButtons.append(this.roundLabel)}updateRoundLabel(t,n){this.roundLabel&&(this.roundLabel.clear(),this.roundLabel.appendContent([L(["playboard__round-label-level"],`LEVEL: ${t}`),L(["playboard__round-label-level"],`ROUND: ${n+1}`)]))}checkSentence(){var t,n,e;const o=null===(t=this.currentSentence)||void 0===t?void 0:t.words;if(!o)return;const i=null===(n=this.game)||void 0===n?void 0:n.state.currentSentence.resultBlock.map((t=>-1===t?"":o[t]));i&&(o.join(" ")===i.join(" ")&&(R.emit("sentencesolved"),null===(e=this.currentSentenceContainer)||void 0===e||e.classList.remove("check-mode")),o.forEach(((t,n)=>{st(HTMLElement,this.cardWordplacesResult[n]).classList.remove("error"),st(HTMLElement,this.cardWordplacesResult[n]).classList.remove("correct");const e=i[n]===t?"correct":"error";st(HTMLElement,this.cardWordplacesResult[n]).classList.add(e)})))}loadNextRound(t,n){return $t(this,void 0,void 0,(function*(){if((yield P.fetchLevelsData(t)).roundsCount-1===n)return 6===t?(yield this.clearAll(),void(yield this.openRound(1,0))):(yield this.clearAll(),void(yield this.openRound(t+1,0)));yield this.clearAll(),yield this.openRound(t,n+1)}))}openNextRound(){return $t(this,void 0,void 0,(function*(){if(!this.game)return;console.log(this.game.state.openedSentences),console.log(this.game.info.levelData.id);const t=this.game.levelIndex,n=this.game.roundIndex;yield this.loadNextRound(t,n)}))}loadGame(t,n){return $t(this,void 0,void 0,(function*(){yield this.clearAll(),yield this.openRound(t,n)}))}resizeContainers(){this.currentSentence&&this.currentSentence.wordCards.forEach((t=>{const n=document.getElementById(`source-${t.sentenceIdx}-${t.wordIndex}`),e=document.getElementById(`result-${t.sentenceIdx}-${t.wordIndex}`);n&&n.style.setProperty("width",`${t.currentWidth}px`),e&&e.style.setProperty("width",`${t.currentWidth}px`),null==n||n.classList.remove("highlight"),null==e||e.classList.remove("highlight")}))}clearSentenceBlocks(){return $t(this,void 0,void 0,(function*(){return this.playboardSourceContainer.getComponent().classList.add("hide"),new Promise((t=>{setTimeout((()=>{this.playboardSourceContainer.clear(),this.cardWordplacesSource=[],this.cardWordplacesResult=[],this.currentCards=[],t(!0),this.playboardSourceContainer.getComponent().classList.remove("hide")}),200)}))}))}clearAll(){return $t(this,void 0,void 0,(function*(){return this.playboardPuzzleContainer.getComponent().classList.add("hide"),yield this.clearSentenceBlocks(),new Promise((t=>{setTimeout((()=>{this.playboardPuzzleContainer.clear(),t(!0),this.playboardPuzzleContainer.getComponent().classList.remove("hide"),this.playboardPuzzleContainer.removeStyleAttribute("background-image")}),300)}))}))}swapPlaces(t,n){if(t===n)return;const e=n.previousSibling,o=n.previousSibling;t.before(n),e?e.after(t):o&&o.before(t),this.updateCardsContainers()}updateCardsContainers(){if(this.currentSentenceContainer){if(!this.currentSentenceContainer.children.length)return;this.cardWordplacesResult=Array.from(this.currentSentenceContainer.children)}this.playboardSourceContainer.getComponent().children.length&&(this.cardWordplacesSource=Array.from(this.playboardSourceContainer.getComponent().children))}findPlace(t){let n=0,e=st(HTMLElement,this.cardWordplacesResult[0]),o=null;for(;n<this.currentCards.length;){if(e=st(HTMLElement,this.cardWordplacesResult[n]),"result"===t.position&&(e=this.cardWordplacesSource[n]),!e.classList.contains("placed")){o=o||e;break}n+=1}return o}updateCurrentGameStats(){this.game&&this.currentSentence&&(this.game.state.isCurrent=!0,this.game.state.currentSentence.current=this.currentSentence.sentenceIdx,this.game.state.currentSentence.resultBlock=this.getStat(this.cardWordplacesResult),this.game.state.currentSentence.resultBlock=this.getStat(this.cardWordplacesResult),this.game.state.currentSentence.sourceBlock=this.getStat(this.cardWordplacesSource),this.game.state.currentSentence.sourceBlock.every((t=>t<0))?R.emit("source-block-epmty"):R.emit("source-block-filled"),this.checkSentence())}getStat(t){var n;const e=[];for(let o=0;o<t.length;o+=1){const i=st(HTMLElement,t[o]);if(i.classList.contains("placed")){const t=null===(n=i.getAttribute("id"))||void 0===n?void 0:n.split("-")[2];t&&e.push(parseInt(t,10))}else e.push(-1)}return e}placeCardOndrop(t,n){let e="result";const o=null==n?void 0:n.getAttribute("id");o&&(e=o.split("-")[0]);const i=document.getElementById(`${e}-${t.sentenceIdx}-${t.wordIndex}`);if(!n)return;if(null==n?void 0:n.classList.contains("placed")){if(i){const o=t.getComponent().parentElement;if(!o)return;o.classList.remove("placed"),i.append(t.getComponent()),n.before(i),i.classList.add("placed");const s=t;t.unsetCoordinates(),s.draggable=!1,null==n||n.classList.remove("highlight"),"result"!==e&&"source"!==e||(s.position=e)}return this.updateCardsContainers(),void this.updateCurrentGameStats()}let s=n;if(i&&(this.swapPlaces(n,i),s=i),!(t instanceof b))return;const a=t.getComponent().parentElement;if(!a)return;a.classList.remove("placed"),s.classList.add("placed"),s.append(t.getComponent());const r=t;t.unsetCoordinates(),r.draggable=!1,null==n||n.classList.remove("highlight"),"result"!==e&&"source"!==e||(r.position=e)}placeCard(t,n){return $t(this,void 0,void 0,(function*(){t.unsetCoordinates();const e="result"===t.position?"source":"result",o=document.getElementById(`${e}-${t.sentenceIdx}-${t.wordIndex}`);if(!n)return;let i=n;if(o&&(this.swapPlaces(n,o),i=o),!(t instanceof b))return;const s=t.getComponent().parentElement;if(!s)return;s.classList.remove("placed"),i.classList.add("placed"),yield t.animateMove(s,i),i.append(t.getComponent());const a=t;a.draggable=!1,a.position="result"===a.position?"source":"result"}))}openRound(t,n){return $t(this,void 0,void 0,(function*(){const e=yield P.fetchLevelsData(t);this.game=new dt(e.rounds[n]),this.loadSentence(0),$.draw();const o=new Image;o.src=P.getImageUrl(this.game.info.levelData.imageSrc),o.onload=()=>{$.close(),this.aspectRatio=o.height/o.width,this.resize()},setTimeout((()=>$.close()),3e3),M.setCurrentRound(t,n),this.updateRoundLabel(t,n),zt.close(),R.emit("open-round")}))}loadSentence(t){var n,e;if(!this.game)return;R.emit("startsentence"),this.currentCards=this.game.generateSources(t),this.cardWordplacesSource=this.game.generateWordsPlaces(this.currentCards),this.resize();const o=this.game.generateResultArea(t);this.currentSentence=this.game.wordSentences[t],null===(n=this.hints.translationHint)||void 0===n||n.setHint(this.game.info.words[t].textExampleTranslate),null===(e=this.hints.audioHint)||void 0===e||e.setAudio(this.game.info.words[t].audioExample),this.currentSentenceContainer=o.getComponent(),this.cardWordplacesResult=o.getContent(),this.playboardSourceContainer.appendContent(this.cardWordplacesSource),this.playboardPuzzleContainer.append(o),this.resizeContainers(),this.addListenersToCards(),this.currentCards.forEach((t=>{this.game&&t.setBackground(this.game.info.levelData.imageSrc)}))}addListenersToCards(){this.currentCards.forEach((t=>{const n=()=>{t.draggable&&t.curTarget instanceof HTMLElement&&this.placeCardOndrop(t,t.curTarget),this.updateCardsContainers(),this.updateCurrentGameStats(),this.resize()};t.addListener("mousedown",(e=>{t.dragCardMouse(e,n)})),t.addListener("touchstart",(e=>{t.dragCardTouch(e,n)})),t.addListener("click",(()=>{t.draggable?t.draggable=!1:(this.placeCard(t,this.findPlace(t)),this.updateCurrentGameStats(),this.resize())}))}))}startFirstRound(){return $t(this,void 0,void 0,(function*(){const t=M.getLastCompletedRound();t&&(yield this.loadNextRound(t.level,t.round))}))}},Bt=Ht;var Pt=e(669),Mt={};Mt.styleTagTransform=u(),Mt.setAttributes=l(),Mt.insert=a().bind(null,"head"),Mt.domAPI=i(),Mt.insertStyleElement=c(),n()(Pt.A,Mt),Pt.A&&Pt.A.locals&&Pt.A.locals;const Dt=new class extends b{constructor(){super("div",["statistics-page"],{},{},_(["statistics-page__header"],v(["statistics-page__header-title"],"Results"))),this.roundSentences={known:[],unlnown:[]},this.roundInfo=_(["statistics-page__results"]),this.buttonsContainer=_(["statistics-page__buttons"]);const t=w(["statistics-page__button"],"Back To Game","button","back-button");this.appendContent([this.roundInfo,this.buttonsContainer]);const n=w(["statistics-page__button"],"Continue","button","results-continue-button");this.buttonsContainer.appendContent([t,n]),t.addListener("click",(()=>this.closePage())),n.addListener("click",(()=>{this.closePage(),R.emit("continue-game")})),R.on("round-completed",(()=>this.updateResults()))}createSoundButton(t){const n=P.getAudioUrl(t),e=new Audio(n),o=w(["playboard__hint-audio-button"],"","button","audio-button"),i=q("./assets/icons/waves-1.svg#waves1","playboard__audio-hint-icon-1"),s=q("./assets/icons/waves-2.svg#waves2","playboard__audio-hint-icon-2");return o.getComponent().append(i,s),o.addListener("click",(()=>{n&&(o.getComponent().classList.add("playboard__hint-audio-button_active"),e.currentTime=0,e.play(),e.addEventListener("ended",(()=>{o.getComponent().classList.remove("playboard__hint-audio-button_active")}),{once:!0}))})),o}createImage(t){return _(["statistics-page__image-container"],(n=["statistics-page__image"],e=P.getImageUrl(t.levelData.cutSrc),o=t.levelData.name,new b("img",n,{},{src:e,alt:o})),y(["statistics-page__image-title"],`${t.levelData.name}`),f(["statistics-page__image-info"],`${t.levelData.author}, ${t.levelData.year}`));var n,e,o}createWordsList(t,n,e){return t[e].reduce(((t,e)=>(n&&t.push(k(["statistics-page__results-item"],"",L(["statistics-page__results-item-text"],n.words[e].textExample),this.createSoundButton(n.words[e].audioExample))),t)),[])}updateResults(){this.roundInfo.clear();const t=M.getCurrentRoundStats(),n=_(["statistics-page__results-container"],y(["statistics-page__subtitle","statistics-page__subtitle_known"],"I know")),e=_(["statistics-page__results-container"],y(["statistics-page__subtitle","statistics-page__subtitle_unknown"],"I don't know"));if((null==t?void 0:t.roundInfo)&&this.roundInfo.append(this.createImage(t.roundInfo)),t&&t.currentStats){if(t.currentStats.knownWords.length){if(!t.roundInfo)return;const e=A(["statistics-page__results-list"],this.createWordsList(t.currentStats,t.roundInfo,"knownWords"));n.append(e),this.roundInfo.append(n)}if(t.currentStats.unknownWords.length){if(!t.roundInfo)return;const n=A(["statistics-page__results-list"],this.createWordsList(t.currentStats,t.roundInfo,"unknownWords"));e.append(n),this.roundInfo.append(e)}}}closePage(){this.getComponent().classList.add("fade-out"),setTimeout((()=>{this.getComponent().classList.remove("fade-out"),R.emit("statistics-page-closed")}),500)}};const Wt=class extends b{constructor(){super("main",["main"]),document.body.append(this.getComponent()),R.on("logout",(()=>this.drawLogin())),R.on("login",(()=>this.drawStartScreen())),R.on("startclicked",(()=>this.drawMainScreen())),R.on("show-results",(()=>this.drawStatistics())),R.on("results-continue",(()=>this.drawMainScreen())),R.on("statistics-page-closed",(()=>this.drawPlayboard()))}drawStartScreen(){this.clear(),document.body.classList.remove("login-screen");const t=new tt;this.append(t)}drawLogin(){this.clear(),document.body.classList.add("login-screen");const t=new G;this.append(t)}drawMainScreen(){return t=this,n=void 0,o=function*(){this.getComponent().classList.add("fade-out"),setTimeout((()=>{this.clear(),Bt.startFirstRound(),this.append(Bt),this.getComponent().classList.remove("fade-out")}),300)},new((e=void 0)||(e=Promise))((function(i,s){function a(t){try{l(o.next(t))}catch(t){s(t)}}function r(t){try{l(o.throw(t))}catch(t){s(t)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,r)}l((o=o.apply(t,n||[])).next())}));var t,n,e,o}drawPlayboard(){Dt.getComponent().remove(),this.append(Bt)}drawStatistics(){Bt.getComponent().remove(),this.append(Dt)}};var Ot=e(505),Nt={};Nt.styleTagTransform=u(),Nt.setAttributes=l(),Nt.insert=a().bind(null,"head"),Nt.domAPI=i(),Nt.insertStyleElement=c(),n()(Ot.A,Nt),Ot.A&&Ot.A.locals&&Ot.A.locals;const jt=class{constructor(){const t=q("./assets/background/blob.svg#blob-left","blob-left"),n=q("./assets/background/blob.svg#blob-left","blob-right");document.body.append(t,n),R.on("login",(()=>{t.classList.add("blob-log-in"),n.classList.add("blob-log-in")})),R.on("logout",(()=>{t.classList.remove("blob-log-in"),n.classList.remove("blob-log-in")}))}};class Ut{constructor(){this.blobs=new jt,this.header=new D,this.main=new Wt,this.footer=new N,M.checkFirstLoad(),M.getData().firstName?this.main.drawStartScreen():this.main.drawLogin()}}var Ft=e(568),Yt={};Yt.styleTagTransform=u(),Yt.setAttributes=l(),Yt.insert=a().bind(null,"head"),Yt.domAPI=i(),Yt.insertStyleElement=c(),n()(Ft.A,Yt),Ft.A&&Ft.A.locals&&Ft.A.locals,window.onload=()=>new Ut})()})();